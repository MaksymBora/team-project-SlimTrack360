import{u as y,e as x,j as t,r as v,c as T,a as W,s as k,g as O}from"./index-3b430d8c.js";import{C as I,a as V,L as _,P as L,b as G,p as $,c as R,d as J,e as N}from"./index-3e2cf5c4.js";const z=e=>e.statistic.totalCalories,E=e=>e.statistic.totalWater,q=e=>e.statistic.totalWeight,B=e=>e.statistic.month,F=e=>e.statistic.requestMonth;I.register(V,_,L,G,$,R,J);const m="#292928",j={type:"linear",position:"bottom",min:1,max:31,ticks:{stepSize:1},grid:{color:m,borderColor:m,borderWidth:.5}},U={position:"top",display:!1},C={type:"linear",position:"left",min:0,max:15e3,ticks:{stepSize:5e3,callback:e=>`${e/1e3}K`},grid:{color:m,borderColor:m,borderWidth:.5}},D={type:"linear",position:"left",min:0,max:3e3,ticks:{stepSize:1e3,callback:e=>`${e/1e3}L`},grid:{color:m,borderColor:m,borderWidth:.5}},w={responsive:!0,maintainAspectRatio:!1,scales:{x:j,y:C},plugins:{legend:U,tooltip:{callbacks:{label:e=>{const s=e.dataset.label||"",l=e.parsed.y;return console.log("Label:",s),console.log("Value:",l),`${P(s)} ${l} ${Y(s)}`}}}}};function Y(e){return e==="Calories"?"calories":e==="Water"?"milliliters":""}function P(e){return e==="Calories"?"Calories":e==="Water"?"Water":""}const g=y.div``;g.displayName="GraphContainer";const K=y.div`
  height: 56px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-content: center;
  flex-wrap: wrap;
  align-items: center;
`,f=y.div``;const X=()=>{const e=x(z),s=e&&e.length>0?Math.round(e.reduce((a,r)=>a+r.totalCalories,0)/e.length):0,l=a=>new Date(a).getDate(),h=Array.from({length:31},(a,r)=>r+1),d={labels:h.map(a=>a),datasets:[{label:"Calories Intake",data:h.map(a=>{const r=e?e.find(u=>l(u.date)===a):null;return r?r.totalCalories:0}),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};return!e||e.length===0?t.jsxs(g,{className:"scroll-container",children:[t.jsxs("div",{className:"caloriesTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Calories"}),t.jsx("h3",{className:"graphValue",children:"No calories consumption data available"})]}),t.jsx(f,{className:"graph-line",children:t.jsx(N,{options:{...w,scales:{x:j,y:{...C,min:0}}},data:d})})]}):t.jsxs(g,{className:"scroll-container",children:[t.jsxs("div",{className:"caloriesTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Calories"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"caloriesValue",children:e?`${s||0} cal`:"0 cal"})]})]}),t.jsx(f,{className:"graph-line",children:t.jsx(N,{options:{...w,scales:{x:j,y:C}},data:d})})]})},H=()=>{const e=x(E),s=Array.from({length:31},(a,r)=>r+1);if(!e||e.length===0){const a={labels:s,datasets:[{label:"",data:Array.from({length:31},()=>Math.floor(Math.random()*1e3)),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};return t.jsxs(g,{className:"scroll-container",children:[t.jsxs("div",{className:"waterTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Water"}),t.jsx("h3",{className:"graphValue",children:"Your data may appear here later after entry"})]}),t.jsx(f,{className:"graph-line",children:t.jsx(N,{options:{...w,scales:{x:j,y:D}},data:a})})]})}const l=e?Math.round(e.reduce((a,r)=>a+r.water,0)/e.length):0,h=a=>new Date(a).getDate(),d={labels:s.map(a=>a),datasets:[{label:"Water Intake",data:s.map(a=>{const r=e.find(i=>h(i.date)===a);return r?r.water:0}),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};return t.jsxs(g,{className:"scroll-container",children:[t.jsxs("div",{className:"waterTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Water"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"waterValue",children:e?`${l||0} ml`:"0 ml"})]})]}),t.jsx(f,{className:"graph-line",children:t.jsx(N,{options:{...w,scales:{x:j,y:D}},data:d})})]})},Q=()=>{const e=x(q),s=!e||(e==null?void 0:e.length)===0,l=x(B),d=((n,c)=>new Date(c,new Date(Date.parse(n+" 1, "+c)).getMonth()+1,0).getDate())(l,"2023"),a=Array.from({length:d},(n,c)=>(c+1).toString()),i=s?Array.from({length:d},()=>"-"):((n,c)=>{const b=Array(n).fill(null),p=c.reduce((o,M)=>{const S=new Date(M.date).getDate()-1;return o[S]=M.weight,o},b);for(let o=1;o<p.length;o++)p[o]===null&&(p[o]=p[o-1]);const A=p.find(o=>o!==null);return p.map(o=>o===null?A:o)})(d,e),u=()=>{if(i.includes("-")||i.length===0)return"-";const n=i==null?void 0:i.reduce((c,b)=>c+b);return Math.round(n/i.length)};return t.jsxs(g,{className:"scroll-container",children:[t.jsxs("div",{className:"weightTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Weight"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"weightValue",children:u()})]})]}),t.jsx(f,{className:"weight-graph-line",children:t.jsxs("div",{className:"table-container",children:[t.jsx("div",{className:"upper-row",children:i.map((n,c)=>t.jsx("div",{className:"table-cell upper",children:n},c))}),t.jsx("div",{className:"lower-row",children:a.map((n,c)=>t.jsx("div",{className:"table-cell lower",children:n},c))})]})})]})},Z=({width:e=16,height:s=16})=>t.jsx("svg",{width:e,height:s,children:t.jsx("path",{d:"M11.5 7c-0.139 0-0.278-0.058-0.377-0.171l-3.124-3.57-3.124 3.57c-0.182 0.208-0.498 0.229-0.706 0.047s-0.229-0.498-0.047-0.706l3.5-4c0.095-0.108 0.232-0.171 0.376-0.171s0.281 0.062 0.376 0.171l3.5 4c0.182 0.208 0.161 0.524-0.047 0.706-0.095 0.083-0.212 0.124-0.329 0.124z"})}),ee=({width:e=24,height:s=24})=>t.jsx("svg",{width:e,height:s,viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12.586 27.414l-10-10c-0.781-0.781-0.781-2.047 0-2.828l10-10c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-6.586 6.586h19.172c1.105 0 2 0.895 2 2s-0.895 2-2 2h-19.172l6.586 6.586c0.39 0.39 0.586 0.902 0.586 1.414s-0.195 1.024-0.586 1.414c-0.781 0.781-2.047 0.781-2.828 0z"})});const te=["January","February","March","April","May","June","July","August","September","October","November","December"],ae=()=>{const[e,s]=v.useState(!1),[l,h]=v.useState("December"),d=T(),a=W(),r=()=>{s(!e)},i=n=>{h(n),a(k(n)),s(!1)},u=()=>{d("/main")};return t.jsxs(K,{children:[t.jsxs("div",{className:"monthsArrows",children:[t.jsx("button",{className:"IconArrowLeft",onClick:u,children:t.jsx(ee,{width:24,height:24})}),t.jsx("label",{className:"monthTitle",htmlFor:"monthSelector",children:"Months"}),t.jsx("div",{className:"IconArrowUp",onClick:r,children:t.jsx(Z,{width:16,height:16})})]}),t.jsxs("div",{className:`monthSelector ${e?"open":""}`,children:[t.jsx("div",{className:"selectedMonth",children:l}),e&&t.jsx("div",{className:"dropdown",children:te.map(n=>t.jsx("div",{className:`monthOption ${l===n?"selected":""}`,onClick:()=>i(n),children:n},n))})]})]})},se=y.div`
  width: 300px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 76px;

  @media screen and (min-width: 834px) {
    width: 800px;
    padding-left: 10px;
    padding-right: 10px;
    margin-bottom: 60px;
  }

  @media screen and (min-width: 1440px) {
    width: 1372px;
    padding-left: 10px;
    padding-right: 10px;
    margin-bottom: 40px;
  }
`;const re=e=>({January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12})[e];function ie(){const e=x(F),s=W();return v.useEffect(()=>{const l={month:re(e)};s(O(l))},[s,e]),t.jsxs(se,{children:[t.jsx(ae,{}),t.jsxs("div",{className:"caloriesWaterGraphs",children:[t.jsx(X,{}),t.jsx(H,{})]}),t.jsx(Q,{})]})}export{ie as Dashboard,ie as default};
