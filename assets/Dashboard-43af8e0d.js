import{u as N,e as x,j as t,r as w,c as S,a as M,s as T,g as k}from"./index-8a383172.js";import{C as O,a as I,L as V,P as _,b as L,p as G,c as $,d as J,e as v}from"./index-c3aeabd0.js";const R=e=>e.statistic.totalCalories,z=e=>e.statistic.totalWater,E=e=>e.statistic.totalWeight,q=e=>e.statistic.month,B=e=>e.statistic.requestMonth;O.register(I,V,_,L,G,$,J);const m="#292928",b={type:"linear",position:"bottom",min:1,max:31,ticks:{stepSize:1},grid:{color:m,borderColor:m,borderWidth:.5}},F={position:"top",display:!1},C={type:"linear",position:"left",min:0,max:15e3,ticks:{stepSize:5e3,callback:e=>`${e/1e3}K`},grid:{color:m,borderColor:m,borderWidth:.5}},U={type:"linear",position:"left",min:0,max:3e3,ticks:{stepSize:1e3,callback:e=>`${e/1e3}L`},grid:{color:m,borderColor:m,borderWidth:.5}},y={responsive:!0,maintainAspectRatio:!1,scales:{x:b,y:C},plugins:{legend:F,tooltip:{callbacks:{label:e=>{const s=e.dataset.label||"",l=e.parsed.y;return console.log("Label:",s),console.log("Value:",l),`${Y(s)} ${l} ${P(s)}`}}}}};function P(e){return e==="Calories"?"calories":e==="Water"?"milliliters":""}function Y(e){return e==="Calories"?"Calories":e==="Water"?"Water":""}const u=N.div``;u.displayName="GraphContainer";const K=N.div`
  height: 56px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-content: center;
  flex-wrap: wrap;
  align-items: center;
`,f=N.div``;const X=()=>{const e=x(R),s=e&&e.length>0?Math.round(e.reduce((a,n)=>a+n.totalCalories,0)/e.length):0,l=a=>new Date(a).getDate(),h=Array.from({length:31},(a,n)=>n+1),d={labels:h.map(a=>a),datasets:[{label:"Calories Intake",data:h.map(a=>{const n=e?e.find(g=>l(g.date)===a):null;return n?n.totalCalories:0}),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};return!e||e.length===0?t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"caloriesTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Calories"}),t.jsx("h3",{className:"graphValue",children:"No calories consumption data available"})]}),t.jsx(f,{className:"graph-line",children:t.jsx(v,{options:{...y,scales:{x:b,y:{...C,min:0}}},data:d})})]}):t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"caloriesTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Calories"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"caloriesValue",children:e?`${s||0} cal`:"0 cal"})]})]}),t.jsx(f,{className:"graph-line",children:t.jsx(v,{options:{...y,scales:{x:b,y:C}},data:d})})]})},H=()=>{const e=x(z);if(!e||e.length===0)return t.jsx(u,{className:"scroll-container",children:t.jsxs("div",{className:"waterTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Water"}),t.jsx("h3",{className:"graphValue",children:"No water consumption data available"})]})});const s=e?Math.round(e.reduce((a,n)=>a+n.water,0)/e.length):0,l=a=>new Date(a).getDate(),h=Array.from({length:31},(a,n)=>n+1),d={labels:h.map(a=>a),datasets:[{label:"Water Intake",data:h.map(a=>{const n=e.find(i=>l(i.date)===a);return n?n.water:0}),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"waterTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Water"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"waterValue",children:e?`${s||0} ml`:"0 ml"})]})]}),t.jsx(f,{className:"graph-line",children:t.jsx(v,{options:{...y,scales:{x:b,y:U}},data:d})})]})},Q=()=>{const e=x(E),s=!e||(e==null?void 0:e.length)===0,l=x(q),d=((r,c)=>new Date(c,new Date(Date.parse(r+" 1, "+c)).getMonth()+1,0).getDate())(l,"2023"),a=Array.from({length:d},(r,c)=>(c+1).toString()),i=s?Array.from({length:d},()=>"-"):((r,c)=>{const j=Array(r).fill(null),p=c.reduce((o,D)=>{const A=new Date(D.date).getDate()-1;return o[A]=D.weight,o},j);for(let o=1;o<p.length;o++)p[o]===null&&(p[o]=p[o-1]);const W=p.find(o=>o!==null);return p.map(o=>o===null?W:o)})(d,e),g=()=>{if(i.includes("-")||i.length===0)return"-";const r=i==null?void 0:i.reduce((c,j)=>c+j);return Math.round(r/i.length)};return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"weightTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Weight"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"weightValue",children:g()})]})]}),t.jsx(f,{className:"weight-graph-line",children:t.jsxs("div",{className:"table-container",children:[t.jsx("div",{className:"upper-row",children:i.map((r,c)=>t.jsx("div",{className:"table-cell upper",children:r},c))}),t.jsx("div",{className:"lower-row",children:a.map((r,c)=>t.jsx("div",{className:"table-cell lower",children:r},c))})]})})]})},Z=({width:e=16,height:s=16})=>t.jsx("svg",{width:e,height:s,children:t.jsx("path",{d:"M11.5 7c-0.139 0-0.278-0.058-0.377-0.171l-3.124-3.57-3.124 3.57c-0.182 0.208-0.498 0.229-0.706 0.047s-0.229-0.498-0.047-0.706l3.5-4c0.095-0.108 0.232-0.171 0.376-0.171s0.281 0.062 0.376 0.171l3.5 4c0.182 0.208 0.161 0.524-0.047 0.706-0.095 0.083-0.212 0.124-0.329 0.124z"})}),ee=({width:e=24,height:s=24})=>t.jsx("svg",{width:e,height:s,viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12.586 27.414l-10-10c-0.781-0.781-0.781-2.047 0-2.828l10-10c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-6.586 6.586h19.172c1.105 0 2 0.895 2 2s-0.895 2-2 2h-19.172l6.586 6.586c0.39 0.39 0.586 0.902 0.586 1.414s-0.195 1.024-0.586 1.414c-0.781 0.781-2.047 0.781-2.828 0z"})});const te=["January","February","March","April","May","June","July","August","September","October","November","December"],ae=()=>{const[e,s]=w.useState(!1),[l,h]=w.useState("December"),d=S(),a=M(),n=()=>{s(!e)},i=r=>{h(r),a(T(r)),s(!1)},g=()=>{d("/main")};return t.jsxs(K,{children:[t.jsxs("div",{className:"monthsArrows",children:[t.jsx("button",{className:"IconArrowLeft",onClick:g,children:t.jsx(ee,{width:24,height:24})}),t.jsx("label",{className:"monthTitle",htmlFor:"monthSelector",children:"Months"}),t.jsx("div",{className:"IconArrowUp",onClick:n,children:t.jsx(Z,{width:16,height:16})})]}),t.jsxs("div",{className:`monthSelector ${e?"open":""}`,children:[t.jsx("div",{className:"selectedMonth",children:l}),e&&t.jsx("div",{className:"dropdown",children:te.map(r=>t.jsx("div",{className:`monthOption ${l===r?"selected":""}`,onClick:()=>i(r),children:r},r))})]})]})},se=N.div`
  width: 300px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 76px;

  @media screen and (min-width: 834px) {
    width: 800px;
    padding-left: 10px;
    padding-right: 10px;
    margin-bottom: 60px;
  }

  @media screen and (min-width: 1440px) {
    width: 1372px;
    padding-left: 10px;
    padding-right: 10px;
    margin-bottom: 40px;
  }
`;const ne=e=>({January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12})[e];function ie(){const e=x(B),s=M();return w.useEffect(()=>{const l={month:ne(e)};s(k(l))},[s,e]),t.jsxs(se,{children:[t.jsx(ae,{}),t.jsxs("div",{className:"caloriesWaterGraphs",children:[t.jsx(X,{}),t.jsx(H,{})]}),t.jsx(Q,{})]})}export{ie as Dashboard,ie as default};
