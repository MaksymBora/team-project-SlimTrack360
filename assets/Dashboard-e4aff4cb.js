import{u as N,e as g,j as t,r as y,c as D,a as M,s as W,g as A}from"./index-ba53414c.js";import{C as S,a as O,L as k,P as I,b as T,p as V,c as _,d as L,e as b}from"./index-ea724be6.js";const G=e=>e.statistic.totalCalories,$=e=>e.statistic.totalWater,R=e=>e.statistic.month,B=e=>e.statistic.requestMonth,J=e=>e.statistic.user;S.register(O,k,I,T,V,_,L);const m="#292928",x={type:"linear",position:"bottom",min:1,max:31,ticks:{stepSize:1},grid:{color:m,borderColor:m,borderWidth:.5}},z={position:"top",display:!1},w={type:"linear",position:"left",min:0,max:6e3,ticks:{stepSize:2e3,callback:e=>`${e/1e3}K`},grid:{color:m,borderColor:m,borderWidth:.5}},C={type:"linear",position:"left",min:0,max:3e3,ticks:{stepSize:1e3,callback:e=>`${e/1e3}L`},grid:{color:m,borderColor:m,borderWidth:.5}},j={responsive:!0,maintainAspectRatio:!1,scales:{x,y:w},plugins:{legend:z,tooltip:{callbacks:{label:e=>{const a=e.dataset.label||"",n=e.parsed.y;return console.log("Label:",a),console.log("Value:",n),`${q(a)} ${n} ${E(a)}`}}}}};function E(e){return e==="Calories"?"calories":e==="Water"?"milliliters":""}function q(e){return e==="Calories"?"Calories":e==="Water"?"Water":""}const u=N.div``;u.displayName="GraphContainer";const U=N.div`
  height: 56px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-content: center;
  flex-wrap: wrap;
  align-items: center;
`,f=N.div``;const Y=()=>{const e=g(G),a=Array.from({length:31},(r,s)=>s+1),n=e&&e.length>0?Math.round(e.reduce((r,s)=>r+s.totalCalories,0)/e.length):0,l=r=>new Date(r).getDate(),o={labels:a.map(r=>r),datasets:[{label:"Calories Intake",data:a.map(r=>{const s=e?e.find(h=>l(h.date)===r):null;return s?s.totalCalories:0}),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};if(!e||e.length===0){const r={labels:a,datasets:[{label:"",data:Array.from({length:31},()=>Math.floor(Math.random()*1e3)),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1,cubicInterpolationMode:"monotone"}]};return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"caloriesTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Calories"}),t.jsx("h3",{className:"graphValue",children:"Your data may appear here later after entry"})]}),t.jsx(f,{className:"graph-line",children:t.jsx(b,{options:{...j,scales:{x,y:{...w,min:0}}},data:r})})]})}return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"caloriesTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Calories"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"caloriesValue",children:e?`${n||0} cal`:"0 cal"})]})]}),t.jsx(f,{className:"graph-line",children:t.jsx(b,{options:{...j,scales:{x,y:w}},data:o})})]})},F=()=>{const e=g($),a=Array.from({length:31},(r,s)=>s+1);if(!e||e.length===0){const r={labels:a,datasets:[{label:"",data:Array.from({length:31},()=>Math.floor(Math.random()*1e3)),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1}]};return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"waterTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Water"}),t.jsx("h3",{className:"graphValue",children:"Your data may appear here later after entry"})]}),t.jsx(f,{className:"graph-line",children:t.jsx(b,{options:{...j,scales:{x,y:C}},data:r})})]})}const n=e?Math.round(e.reduce((r,s)=>r+s.water,0)/e.length):0,l=r=>new Date(r).getDate(),o={labels:a.map(r=>r),datasets:[{label:"Water Intake",data:a.map(r=>{const s=e.find(d=>l(d.date)===r);return s?s.water:0}),borderColor:"#e3ffa8",borderWidth:1,pointBackgroundColor:"#e3ffa8",pointRadius:2,fill:!1,cubicInterpolationMode:"monotone"}]};return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"waterTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Water"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"waterValue",children:e?`${n||0} ml`:"0 ml"})]})]}),t.jsx(f,{className:"graph-line",children:t.jsx(b,{options:{...j,scales:{x,y:C}},data:o})})]})},P=(e,a,n)=>{const l=Array(e).fill(null),o=a.reduce((s,d)=>{const h=new Date(d.date).getDate()-1;return s[h]=d.weight,s},l);for(let s=1;s<o.length;s++)o[s]===null&&(o[s]=o[s-1]);return o.map(s=>s===null?n:s)},K=e=>{if(!e||e.length===0)return"-";const a=e==null?void 0:e.reduce((n,l)=>n+l);return Math.round(a/e.length)},X=(e,a)=>new Date(a,new Date(Date.parse(e+" 1, "+a)).getMonth()+1,0).getDate(),H=(e,a)=>{const n=e.slice().sort((o,r)=>new Date(o.date)-new Date(r.date));let l=-1;for(let o=0;o<n.length;o++)if(new Date(n[o].date).getMonth()+1===a){l=o;break}if(l===-1){const o=n.filter(r=>new Date(r.date).getMonth()+1<a);return o.length>0?o[o.length-1]:n[0]}return l>0?n[l-1]:n[0]},v=e=>({January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12})[e],Q=()=>{var i;let e;const a=g(J),n=g(R),l=v(n);n&&(e=a[n]);let o;if(a){const p=Object.values(a).filter(c=>Array.isArray(c)&&(c==null?void 0:c.length)>0).flat(1);o=(i=H(p,l))==null?void 0:i.weight}const r=!e||(e==null?void 0:e.length)===0,s=X(n,"2023"),d=Array.from({length:s},(p,c)=>(c+1).toString()),h=r?Array.from({length:s},()=>o):P(s,e,o);return t.jsxs(u,{className:"scroll-container",children:[t.jsxs("div",{className:"weightTitle",children:[t.jsx("h2",{className:"graphTitle",children:"Weight"}),t.jsxs("h3",{className:"graphValue",children:["Average value:",t.jsx("span",{className:"weightValue",children:K(h)})]})]}),t.jsx(f,{className:"weight-graph-line",children:t.jsxs("div",{className:"table-container",children:[t.jsx("div",{className:"upper-row",children:h.map((p,c)=>t.jsx("div",{className:"table-cell upper",children:p},c))}),t.jsx("div",{className:"lower-row",children:d.map((p,c)=>t.jsx("div",{className:"table-cell lower",children:p},c))})]})})]})},Z=({width:e=16,height:a=16})=>t.jsx("svg",{width:e,height:a,children:t.jsx("path",{d:"M11.5 7c-0.139 0-0.278-0.058-0.377-0.171l-3.124-3.57-3.124 3.57c-0.182 0.208-0.498 0.229-0.706 0.047s-0.229-0.498-0.047-0.706l3.5-4c0.095-0.108 0.232-0.171 0.376-0.171s0.281 0.062 0.376 0.171l3.5 4c0.182 0.208 0.161 0.524-0.047 0.706-0.095 0.083-0.212 0.124-0.329 0.124z"})}),ee=({width:e=24,height:a=24})=>t.jsx("svg",{width:e,height:a,viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12.586 27.414l-10-10c-0.781-0.781-0.781-2.047 0-2.828l10-10c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-6.586 6.586h19.172c1.105 0 2 0.895 2 2s-0.895 2-2 2h-19.172l6.586 6.586c0.39 0.39 0.586 0.902 0.586 1.414s-0.195 1.024-0.586 1.414c-0.781 0.781-2.047 0.781-2.828 0z"})});const te=["January","February","March","April","May","June","July","August","September","October","November","December"],ae=()=>{const[e,a]=y.useState(!1),[n,l]=y.useState("December"),o=D(),r=M(),s=()=>{a(!e)},d=i=>{l(i),r(W(i)),a(!1)},h=()=>{o("/main")};return t.jsxs(U,{children:[t.jsxs("div",{className:"monthsArrows",children:[t.jsx("button",{className:"IconArrowLeft",onClick:h,children:t.jsx(ee,{width:24,height:24})}),t.jsx("label",{className:"monthTitle",htmlFor:"monthSelector",children:"Months"}),t.jsx("div",{className:"IconArrowUp",onClick:s,children:t.jsx(Z,{width:16,height:16})})]}),t.jsxs("div",{className:`monthSelector ${e?"open":""}`,children:[t.jsx("div",{className:"selectedMonth",children:n}),e&&t.jsx("div",{className:"dropdown",children:te.map(i=>t.jsx("div",{className:`monthOption ${n===i?"selected":""}`,onClick:()=>d(i),children:i},i))})]})]})},se=N.div`
  width: 300px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 76px;

  @media screen and (min-width: 834px) {
    width: 800px;
    padding-left: 10px;
    padding-right: 10px;
    margin-bottom: 60px;
  }

  @media screen and (min-width: 1440px) {
    width: 1382px;
    padding-left: 5px;
    padding-right: 5px;
    margin-bottom: 40px;
  }
`;function oe(){const e=g(B),a=M();return y.useEffect(()=>{const n={month:v(e)};a(A(n))},[a,e]),t.jsxs(se,{children:[t.jsx(ae,{}),t.jsxs("div",{className:"caloriesWaterGraphs",children:[t.jsx(Y,{}),t.jsx(F,{})]}),t.jsx(Q,{})]})}export{oe as Dashboard,oe as default};
